/*!
 * vue-ics v0.1.5 
 * (c) 2022 Stanislav Mihaylov <ceo@pepper.llc>
 * Released under the MIT License.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("file-saver")):"function"==typeof define&&define.amd?define(["file-saver"],n):(t=t||self,t.VueIcs=n(t.fileSaver))}(this,function(t){"use strict";function n(t){var n=0,e=["SU","MO","TU","WE","TH","FR","SA"];if("YEARLY"!==t.freq&&"MONTHLY"!==t.freq&&"WEEKLY"!==t.freq&&"DAILY"!==t.freq)throw n+=1,"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(t.until&&isNaN(Date.parse(t.until)))throw n+=1,"Recurrence rrule 'until' must be a valid date string";if(t.interval&&isNaN(parseInt(t.interval)))throw n+=1,"Recurrence rrule 'interval' must be an integer";if(t.count&&isNaN(parseInt(t.count)))throw n+=1,"Recurrence rrule 'count' must be an integer";if(void 0!==t.byday){if("[object Array]"!==Object.prototype.toString.call(t.byday))throw n+=1,"Recurrence rrule 'byday' must be an array";if(t.byday.length>7)throw n+=1,"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";t.byday=t.byday.filter(function(n,e){return t.byday.indexOf(n)==e});for(var c in t.byday)if(e.indexOf(t.byday[c])<0)throw n+=1,"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}return 0===n}function e(t){return"".concat(t,"\n")}function c(){return a++}var o=[],a=0,r=function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{uidDomain:"evildvl",prodId:"vueICS"};a.prototype.$ics={removeAllEvents:function(){o=[]},addEvent:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-us",a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",u=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(void 0===a||void 0===i||void 0===l||void 0===u||void 0===s)throw"You need to specify function arguments";if(f&&n(f)){if(t="RRULE:FREQ=".concat(f.freq),f.until){var v=new Date(Date.parse(f.until)).toISOString();t+=";UNTIL=".concat(v.substring(0,v.length-13).replace(/[-]/g,""),"000000Z")}f.interval&&(t+=";INTERVAL=".concat(f.interval)),f.count&&(t+=";COUNT=".concat(f.count)),f.byday&&f.byday.length>0&&(t+=";BYDAY=".concat(f.byday.join(",")))}var y=new Date(u),E=new Date(s),S=new Date,D="".concat(S.getDay()).concat(S.getMonth()).concat(S.getFullYear(),"-").concat(S.getHours()).concat(S.getMinutes()).concat(S.getSeconds()).concat(c()),h="0000".concat(y.getFullYear().toString()).slice(-4),A="00".concat((y.getMonth()+1).toString()).slice(-2),N="00".concat(y.getDate().toString()).slice(-2),R="00".concat(y.getHours().toString()).slice(-2),T="00".concat(y.getMinutes().toString()).slice(-2),I="00".concat(y.getSeconds().toString()).slice(-2),b="0000".concat(E.getFullYear().toString()).slice(-4),p="00".concat((E.getMonth()+1).toString()).slice(-2),w="00".concat(E.getDate().toString()).slice(-2),L="00".concat(E.getHours().toString()).slice(-2),m="00".concat(E.getMinutes().toString()).slice(-2),M="00".concat(E.getSeconds().toString()).slice(-2),Y="0000".concat(S.getFullYear().toString()).slice(-4),O="00".concat((S.getMonth()+1).toString()).slice(-2),V="00".concat(S.getDate().toString()).slice(-2),U="00".concat(S.getHours().toString()).slice(-2),C="00".concat(S.getMinutes().toString()).slice(-2),F="00".concat(S.getSeconds().toString()).slice(-2),H="",q="",j="";R+T+I+L+m+M!=0?(H="DATE-TIME",q="T".concat(R).concat(T).concat(I),j="T".concat(L).concat(m).concat(M)):(H="DATE",E.setDate(E.getDate()+1),b="0000".concat(E.getFullYear().toString()).slice(-4),p="00".concat((E.getMonth()+1).toString()).slice(-2),w="00".concat(E.getDate().toString()).slice(-2));var x="T".concat(U).concat(C).concat(F),G=h+A+N+q,B=b+p+w+j,P=Y+O+V+x,W="BEGIN:VEVENT\n        UID:".concat(D,"@").concat(r.uidDomain,"\n        ").concat(g?"URL:"+g:"","\n        DESCRIPTION:").concat(i).concat(t?"\n"+t:"","\n        DTSTAMP;VALUE=DATE-TIME:").concat(P,",\n        DTSTART;VALUE=").concat(H,":").concat(G,"\n        DTEND;VALUE=").concat(H,":").concat(B,"\n        LOCATION:").concat(l,"\n        ").concat(d?"ORGANIZER;CN="+d.name+":MAILTO:"+d.email:"","\n        SUMMARY;LANGUAGE=").concat(e,":").concat(a,"\n        END:VEVENT\n      ");return o.push(W),W},calendar:function(){return e(("BEGIN:VCALENDAR\n"+"PRODID:".concat(r.prodId,"\n")+"VERSION:2.0\n"+"".concat(o.join("\n"),"\n")+"END:VCALENDAR").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,""))},download:function(n){var c=e(("BEGIN:VCALENDAR\n"+"PRODID:".concat(r.prodId,"\n")+"VERSION:2.0\n"+"".concat(o.join("\n"),"\n")+"END:VCALENDAR").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,"")),a=new Blob([c],{type:"text/x-vCalendar;charset=utf-8"});t.saveAs(a,"".concat(n,".ics"))}}},i={install:r,version:"0.1.5"};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(i),i});